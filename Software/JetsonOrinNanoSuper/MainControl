import drone_controller as dc
import time

# --- User Configuration ---
UART_PORT = '/dev/ttyTHS1' 
BAUD_RATE = 921600 

# --- Main Drone Control Scenario ---
DataRT = None # Initialize drone object
try:
    # 1. Connect to the drone
    DataRT = dc.connect_drone(UART_PORT, BAUD_RATE)

    if DataRT:
        # 2. Arm and take off to 10 meters
        dc.arm_and_takeoff(DataRT, 10)

        # 3. Execute mission with unified commands

        # Use a simple directional command
        print("Moving forward using a simple command...")
        dc.move_forward(DataRT, speed=2, duration=3)
        time.sleep(1)

        # Use the angle command for diagonal movement
        print("Moving diagonally (45 degrees) using the angle command...")
        dc.move_by_angle(DataRT, angle_degrees=45, speed=2, duration=4)
        time.sleep(1)

        # Use another simple directional command
        print("Moving left using a simple command...")
        dc.move_left(DataRT, speed=2, duration=3)
        time.sleep(1)

        # Use the angle command for a precise direction
        print("Moving toward 315 degrees using the angle command...")
        dc.move_by_angle(DataRT, angle_degrees=315, speed=2, duration=4)
        time.sleep(1)

finally:
    # 4. Land and disconnect
    if DataRT:
        dc.land_and_close(DataRT)





