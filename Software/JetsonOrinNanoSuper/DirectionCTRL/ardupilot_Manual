 ì£¼ìš” ê¸°ëŠ¥
1. Guided ëª¨ë“œ ì œì–´

ArduPilotì˜ Guided ëª¨ë“œ í™œì„±í™”
MAVLinkë¥¼ í†µí•œ ì§ì ‘ FC ì œì–´
UART ì‹œë¦¬ì–¼ í†µì‹  (/dev/ttyTHS1:115200)

2. ë‹¤ì–‘í•œ ì œì–´ ë°©ì‹

ì†ë„ ì œì–´: NED/Body ì¢Œí‘œê³„ ì†ë„ ëª…ë ¹
ìœ„ì¹˜ ì œì–´: NED ì¢Œí‘œê³„ ìœ„ì¹˜ ì´ë™
GPS ì œì–´: ìœ„ë„/ê²½ë„ ì¢Œí‘œ ì´ë™
ìƒëŒ€ ì´ë™: í˜„ì¬ ìœ„ì¹˜ ê¸°ì¤€ ì´ë™

3. ì£¼ìš” ë©”ì†Œë“œ
python# ì—°ê²° ë° ì´ˆê¸°í™”
await guided.connect()
await guided.set_guided_mode()

# ì‹œë™ ë° ì´ë¥™
await guided.arm()
await guided.takeoff_guided(5.0)  # 5m ì´ë¥™

# ì†ë„ ì œì–´
await guided.set_velocity_body(2.0, 0, 0)  # ì „ì§„ 2m/s
await guided.set_velocity_ned(0, 1.5, 0)   # ë™ìª½ 1.5m/s

# ìœ„ì¹˜ ì´ë™
await guided.move_relative(5.0, 0, -2.0)  # ì „ë°© 5m, ìƒìŠ¹ 2m
await guided.goto_position_global(35.123, 129.123, 20.0)  # GPS

# íšŒì „
await guided.rotate_yaw(90)  # 90ë„ íšŒì „

# ì°©ë¥™
await guided.land_guided()
await guided.disarm()
ğŸ’¡ ì‚¬ìš© ì˜ˆì œ
1. ê¸°ë³¸ ì‚¬ìš©ë²•
pythonimport asyncio
from ardupilot_guided_control import GuidedModeController

async def fly():
    # ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±
    guided = GuidedModeController("serial:///dev/ttyTHS1:115200")
    
    # ì—°ê²°
    await guided.connect()
    
    # Guided ëª¨ë“œ ì„¤ì •
    await guided.set_guided_mode()
    
    # ì‹œë™ ë° ì´ë¥™
    await guided.arm()
    await guided.takeoff_guided(5.0)
    
    # ì œì–´
    await guided.set_velocity_body(2.0, 0, 0)  # ì „ì§„
    await asyncio.sleep(3)
    
    # ì°©ë¥™
    await guided.land_guided()
    await guided.disarm()

asyncio.run(fly())
2. ë³µì¡í•œ ë¯¸ì…˜
pythonasync def mission():
    guided = GuidedModeController()
    await guided.connect()
    await guided.set_guided_mode()
    await guided.arm()
    await guided.takeoff_guided(10.0)
    
    # ì‚¬ê°í˜• íŒ¨í„´ ë¹„í–‰
    movements = [
        (10, 0, 0),   # ë¶ìª½ 10m
        (0, 10, 0),   # ë™ìª½ 10m
        (-10, 0, 0),  # ë‚¨ìª½ 10m
        (0, -10, 0),  # ì„œìª½ 10m
    ]
    
    for north, east, down in movements:
        await guided.goto_position_ned(north, east, down)
        await asyncio.sleep(5)
    
    # GPS ì¢Œí‘œë¡œ ì´ë™
    waypoints = [
        (35.123456, 129.123456, 15.0),
        (35.123556, 129.123556, 20.0),
        (35.123656, 129.123656, 15.0),
    ]
    
    for lat, lon, alt in waypoints:
        await guided.goto_position_global(lat, lon, alt)
        await asyncio.sleep(10)
    
    # RTL
    await guided.return_to_launch()
3. ì‹¤ì‹œê°„ ì œì–´
pythonasync def realtime_control():
    guided = GuidedModeController()
    await guided.connect()
    await guided.set_guided_mode()
    await guided.arm()
    await guided.takeoff_guided(5.0)
    
    # ì‹¤ì‹œê°„ ì œì–´ ë£¨í”„
    while True:
        # ì„¼ì„œë‚˜ AIì˜ ì…ë ¥ ë°›ê¸°
        command = get_control_input()  # ì™¸ë¶€ í•¨ìˆ˜
        
        if command['type'] == 'velocity':
            await guided.set_velocity_body(
                command['forward'],
                command['right'],
                command['down'],
                command['yaw_rate']
            )
        elif command['type'] == 'position':
            await guided.move_relative(
                command['forward'],
                command['right'],
                command['down']
            )
        elif command['type'] == 'gps':
            await guided.goto_position_global(
                command['lat'],
                command['lon'],
                command['alt']
            )
        
        await asyncio.sleep(0.1)  # 10Hz
ğŸ”§ ArduPilot ì„¤ì •
FCì—ì„œ ë‹¤ìŒ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤:

MAVLink ì„¤ì •

SERIAL1_PROTOCOL = 2 (MAVLink2)
SERIAL1_BAUD = 115 (115200 baud)

Guided ëª¨ë“œ í—ˆìš©

FLTMODE1 = 4 (Guided)
ë˜ëŠ”
FLTMODE_
